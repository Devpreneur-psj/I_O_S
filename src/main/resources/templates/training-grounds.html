<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ВаЋва╣ ВѕўваеВъЦ - SOI</title>
    <link rel="stylesheet" th:href="@{/css/training-grounds.css}">
    <link rel="stylesheet" th:href="@{/css/modal.css}">
</head>
<body>
    <div class="training-container">
        <div class="training-header">
            <button class="back-btn" onclick="window.location.href='/world'">Рєљ вњцвАю</button>
            <h1>­Ъј» ВаЋва╣ ВѕўваеВъЦ</h1>
            <p class="subtitle">ВаЋва╣вЊцВЮё ьЏѕваеВІюВ╝ю віЦваЦВ╣ўвЦ╝ ьќЦВЃЂВІюьѓхвІѕвІц</p>
        </div>

        <!-- ВаЋва╣ ВёаьЃЮ -->
        <div class="section">
            <h2 class="section-title">ВаЋва╣ ВёаьЃЮ</h2>
            <div class="spirit-selector">
                <select id="spiritSelect" class="spirit-select">
                    <option value="">ВаЋва╣ВЮё ВёаьЃЮьЋўВёИВџћ</option>
                    <option th:each="spirit : ${spirits}" 
                            th:value="${spirit.id}" 
                            th:data-spirit-type="${spirit.spiritType}"
                            th:data-evolution-stage="${spirit.evolutionStage}"
                            th:text="${spirit.name + ' (' + spirit.spiritType + ' Lv.' + spirit.level + ')'}">ВаЋва╣ ВЮ┤вдё</option>
                </select>
            </div>
            <!-- ВёаьЃЮвљю ВаЋва╣ ВЮ┤в»ИВДђ ьЉюВІю -->
            <div id="selectedSpiritPreview" class="spirit-preview" style="display: none; margin-top: 20px; text-align: center;">
                <img id="selectedSpiritImage" src="" alt="ВёаьЃЮвљю ВаЋва╣" class="spirit-preview-image">
                <div id="selectedSpiritName" class="spirit-preview-name"></div>
            </div>
        </div>

        <!-- ьЏѕвае ВаЋв│┤ -->
        <div class="section" id="trainingSection" style="display: none;">
            <h2 class="section-title">ьЏѕвае ВаЋв│┤</h2>
            <div class="training-info" id="trainingInfo">
                <p>ВаЋва╣ВЮё ВёаьЃЮьЋўвЕ┤ ьЏѕваеВЮё ВІюВъЉьЋа Вѕў ВъѕВіхвІѕвІц.</p>
                <p class="hint">ьЏѕваеВЮђ ВаЋва╣ВЮў ВЌљвёѕВДђвЦ╝ ВєївфеьЋўвЕ░ віЦваЦВ╣ўвЦ╝ ьќЦВЃЂВІюьѓхвІѕвІц.</p>
            </div>
            
            <!-- ьЏѕвае ьЃђВъЁ ВёаьЃЮ -->
            <div class="training-selection">
                <h3 class="training-title">ьЏѕвае ьЃђВъЁ ВёаьЃЮ</h3>
                <div class="training-grid">
                    <div class="training-card" data-training="ATTACK" onclick="selectTraining('ATTACK', this)">
                        <div class="training-name">Ж│хЖ▓Е ьЏѕвае</div>
                        <div class="training-icon">Рџћ№ИЈ</div>
                        <div class="training-effect">Жи╝Ж▒░вдг/ВЏљЖ▒░вдг Ж│хЖ▓ЕваЦ +2</div>
                        <div class="training-cost">ВЌљвёѕВДђ: 20</div>
                    </div>
                    <div class="training-card" data-training="DEFENSE" onclick="selectTraining('DEFENSE', this)">
                        <div class="training-name">в░ЕВќ┤ ьЏѕвае</div>
                        <div class="training-icon">­ЪЏА№ИЈ</div>
                        <div class="training-effect">Жи╝Ж▒░вдг/ВЏљЖ▒░вдг в░ЕВќ┤ваЦ +2</div>
                        <div class="training-cost">ВЌљвёѕВДђ: 20</div>
                    </div>
                    <div class="training-card" data-training="SPEED" onclick="selectTraining('SPEED', this)">
                        <div class="training-name">Віцьћ╝вЊю ьЏѕвае</div>
                        <div class="training-icon">­Ъње</div>
                        <div class="training-effect">Віцьћ╝вЊю +2</div>
                        <div class="training-cost">ВЌљвёѕВДђ: 20</div>
                    </div>
                    <div class="training-card" data-training="BALANCED" onclick="selectTraining('BALANCED', this)">
                        <div class="training-name">ЖиаьўЋ ьЏѕвае</div>
                        <div class="training-icon">Рџќ№ИЈ</div>
                        <div class="training-effect">вфевЊа віЦваЦВ╣ў +1</div>
                        <div class="training-cost">ВЌљвёѕВДђ: 20</div>
                    </div>
                </div>
            </div>
            
            <button class="training-btn" id="trainingBtn" onclick="startTraining()" disabled>ьЏѕвае ьЃђВъЁВЮё ВёаьЃЮьЋўВёИВџћ</button>
        </div>

        <!-- ьЏѕвае Ж▓░Ж│╝ -->
        <div class="section" id="trainingResultSection" style="display: none;">
            <h2 class="section-title">ьЏѕвае Ж▓░Ж│╝</h2>
            <div class="training-result" id="trainingResult">
                <!-- ьЏѕвае Ж▓░Ж│╝Ж░ђ ВЌгЖИ░ВЌљ ьЉюВІювље -->
            </div>
        </div>
    </div>

    <script th:src="@{/js/modal.js}"></script>
    <script th:src="@{/js/training-grounds.js?v=2}"></script>
</body>
</html>

